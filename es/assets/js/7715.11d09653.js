"use strict";(self.webpackChunkdocs_fintesk_com=self.webpackChunkdocs_fintesk_com||[]).push([[7715],{7508:(e,t,a)=>{var r,s;a.d(t,{a:()=>r}),(s=r||(r={})).idle="idle",s.loading="loading",s.rendering="rendering",s.streaming="streaming",s.error="error",s.aborted="aborted",s.done="done"},87715:(e,t,a)=>{a.r(t),a.d(t,{orama_chat:()=>y,orama_chat_messages_container:()=>S,orama_textarea:()=>k});var r=a(7508),s=a(19679),o=(a(9897),a(80130)),i=(a(32980),a(1309)),n=a(88431),l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=(0,n.a)(((e,t,a,r)=>{for(var s,o=r>1?void 0:r?c(t,a):t,i=e.length-1;i>=0;i--)(s=e[i])&&(o=(r?s(t,a,o):s(o))||o);return r&&o&&l(t,a,o),o}),"a$1"),d=class extends o.d{static{(0,n.a)(this,"t$2")}constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return o.b`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${d.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};d.weightsMap=new Map([["thin",o.c`<path d="M224.47,31.52a11.87,11.87,0,0,0-11.82-3L20.74,86.67a12,12,0,0,0-1.91,22.38L105,151l41.92,86.15A11.88,11.88,0,0,0,157.74,244c.34,0,.69,0,1,0a11.89,11.89,0,0,0,10.52-8.63l58.21-192,0-.08A11.85,11.85,0,0,0,224.47,31.52Zm-4.62,9.54-58.23,192a4,4,0,0,1-7.48.59l-41.3-84.86,50-50a4,4,0,1,0-5.66-5.66l-50,50-84.9-41.31a3.88,3.88,0,0,1-2.27-4,3.93,3.93,0,0,1,3-3.54L214.9,36.16A3.93,3.93,0,0,1,216,36a4,4,0,0,1,2.79,1.19A3.93,3.93,0,0,1,219.85,41.06Z"/>`],["light",o.c`<path d="M225.88,30.12a13.83,13.83,0,0,0-13.7-3.58l-.11,0L20.14,84.77A14,14,0,0,0,18,110.85l85.56,41.64L145.12,238a13.87,13.87,0,0,0,12.61,8c.4,0,.81,0,1.21-.05a13.9,13.9,0,0,0,12.29-10.09l58.2-191.93,0-.11A13.83,13.83,0,0,0,225.88,30.12Zm-8,10.4L159.73,232.43l0,.11a2,2,0,0,1-3.76.26l-40.68-83.58,49-49a6,6,0,1,0-8.49-8.49l-49,49L23.15,100a2,2,0,0,1,.31-3.74l.11,0L215.48,38.08a1.94,1.94,0,0,1,1.92.52A2,2,0,0,1,217.92,40.52Z"/>`],["regular",o.c`<path d="M227.32,28.68a16,16,0,0,0-15.66-4.08l-.15,0L19.57,82.84a16,16,0,0,0-2.49,29.8L102,154l41.3,84.87A15.86,15.86,0,0,0,157.74,248q.69,0,1.38-.06a15.88,15.88,0,0,0,14-11.51l58.2-191.94c0-.05,0-.1,0-.15A16,16,0,0,0,227.32,28.68ZM157.83,231.85l-.05.14,0-.07-40.06-82.3,48-48a8,8,0,0,0-11.31-11.31l-48,48L24.08,98.25l-.07,0,.14,0L216,40Z"/>`],["bold",o.c`<path d="M230.14,25.86a20,20,0,0,0-19.57-5.11l-.22.07L18.44,79a20,20,0,0,0-3.06,37.25L99,157l40.71,83.65a19.81,19.81,0,0,0,18,11.38c.57,0,1.15,0,1.73-.07A19.82,19.82,0,0,0,177,237.56L235.18,45.65a1.42,1.42,0,0,0,.07-.22A20,20,0,0,0,230.14,25.86ZM156.91,221.07l-34.37-70.64,46-45.95a12,12,0,0,0-17-17l-46,46L34.93,99.09,210,46Z"/>`],["fill",o.c`<path d="M231.4,44.34s0,.1,0,.15l-58.2,191.94a15.88,15.88,0,0,1-14,11.51q-.69.06-1.38.06a15.86,15.86,0,0,1-14.42-9.15L107,164.15a4,4,0,0,1,.77-4.58l57.92-57.92a8,8,0,0,0-11.31-11.31L96.43,148.26a4,4,0,0,1-4.58.77L17.08,112.64a16,16,0,0,1,2.49-29.8l191.94-58.2.15,0A16,16,0,0,1,231.4,44.34Z"/>`],["duotone",o.c`<path d="M223.69,42.18l-58.22,192a8,8,0,0,1-14.92,1.25L108,148,20.58,105.45a8,8,0,0,1,1.25-14.92l192-58.22A8,8,0,0,1,223.69,42.18Z" opacity="0.2"/><path d="M227.32,28.68a16,16,0,0,0-15.66-4.08l-.15,0L19.57,82.84a16,16,0,0,0-2.49,29.8L102,154l41.3,84.87A15.86,15.86,0,0,0,157.74,248q.69,0,1.38-.06a15.88,15.88,0,0,0,14-11.51l58.2-191.94c0-.05,0-.1,0-.15A16,16,0,0,0,227.32,28.68ZM157.83,231.85l-.05.14,0-.07-40.06-82.3,48-48a8,8,0,0,0-11.31-11.31l-48,48L24.08,98.25l-.07,0,.14,0L216,40Z"/>`]]),d.styles=o.a`
    :host {
      display: contents;
    }
  `,h([(0,o.f)({type:String,reflect:!0})],d.prototype,"size",2),h([(0,o.f)({type:String,reflect:!0})],d.prototype,"weight",2),h([(0,o.f)({type:String,reflect:!0})],d.prototype,"color",2),h([(0,o.f)({type:Boolean,reflect:!0})],d.prototype,"mirrored",2),d=h([(0,o.e)("ph-paper-plane-tilt")],d);var m=Object.defineProperty,p=Object.getOwnPropertyDescriptor,g=(0,n.a)(((e,t,a,r)=>{for(var s,o=r>1?void 0:r?p(t,a):t,i=e.length-1;i>=0;i--)(s=e[i])&&(o=(r?s(t,a,o):s(o))||o);return r&&o&&m(t,a,o),o}),"o"),f=class extends o.d{static{(0,n.a)(this,"t$1")}constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return o.b`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${f.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};f.weightsMap=new Map([["thin",o.c`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220ZM160,92H96a4,4,0,0,0-4,4v64a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4V96A4,4,0,0,0,160,92Zm-4,64H100V100h56Z"/>`],["light",o.c`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218ZM160,90H96a6,6,0,0,0-6,6v64a6,6,0,0,0,6,6h64a6,6,0,0,0,6-6V96A6,6,0,0,0,160,90Zm-6,64H102V102h52Z"/>`],["regular",o.c`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM160,88H96a8,8,0,0,0-8,8v64a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V96A8,8,0,0,0,160,88Zm-8,64H104V104h48Z"/>`],["bold",o.c`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm40-112v56a12,12,0,0,1-12,12H100a12,12,0,0,1-12-12V100a12,12,0,0,1,12-12h56A12,12,0,0,1,168,100Z"/>`],["fill",o.c`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm32,132a4,4,0,0,1-4,4H100a4,4,0,0,1-4-4V100a4,4,0,0,1,4-4h56a4,4,0,0,1,4,4Z"/>`],["duotone",o.c`<path d="M128,32a96,96,0,1,0,96,96A96,96,0,0,0,128,32Zm32,128H96V96h64Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM160,88H96a8,8,0,0,0-8,8v64a8,8,0,0,0,8,8h64a8,8,0,0,0,8-8V96A8,8,0,0,0,160,88Zm-8,64H104V104h48Z"/>`]]),f.styles=o.a`
    :host {
      display: contents;
    }
  `,g([(0,o.f)({type:String,reflect:!0})],f.prototype,"size",2),g([(0,o.f)({type:String,reflect:!0})],f.prototype,"weight",2),g([(0,o.f)({type:String,reflect:!0})],f.prototype,"color",2),g([(0,o.f)({type:Boolean,reflect:!0})],f.prototype,"mirrored",2),f=g([(0,o.e)("ph-stop-circle")],f);var u=Object.defineProperty,b=Object.getOwnPropertyDescriptor,v=(0,n.a)(((e,t,a,r)=>{for(var s,o=r>1?void 0:r?b(t,a):t,i=e.length-1;i>=0;i--)(s=e[i])&&(o=(r?s(t,a,o):s(o))||o);return r&&o&&u(t,a,o),o}),"a"),w=class extends o.d{static{(0,n.a)(this,"t")}constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return o.b`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${w.weightsMap.get(null!=(e=this.weight)?e:"regular")}
    </svg>`}};w.weightsMap=new Map([["thin",o.c`<path d="M202.83,146.83l-72,72a4,4,0,0,1-5.66,0l-72-72a4,4,0,0,1,5.66-5.66L124,206.34V40a4,4,0,0,1,8,0V206.34l65.17-65.17a4,4,0,0,1,5.66,5.66Z"/>`],["light",o.c`<path d="M204.24,148.24l-72,72a6,6,0,0,1-8.48,0l-72-72a6,6,0,0,1,8.48-8.48L122,201.51V40a6,6,0,0,1,12,0V201.51l61.76-61.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",o.c`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72a8,8,0,0,1,11.32-11.32L120,196.69V40a8,8,0,0,1,16,0V196.69l58.34-58.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",o.c`<path d="M208.49,152.49l-72,72a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L116,187V40a12,12,0,0,1,24,0V187l51.51-51.52a12,12,0,0,1,17,17Z"/>`],["fill",o.c`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,56,136h64V40a8,8,0,0,1,16,0v96h64a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",o.c`<path d="M200,144l-72,72L56,144Z" opacity="0.2"/><path d="M207.39,140.94A8,8,0,0,0,200,136H136V40a8,8,0,0,0-16,0v96H56a8,8,0,0,0-5.66,13.66l72,72a8,8,0,0,0,11.32,0l72-72A8,8,0,0,0,207.39,140.94ZM128,204.69,75.31,152H180.69Z"/>`]]),w.styles=o.a`
    :host {
      display: contents;
    }
  `,v([(0,o.f)({type:String,reflect:!0})],w.prototype,"size",2),v([(0,o.f)({type:String,reflect:!0})],w.prototype,"weight",2),v([(0,o.f)({type:String,reflect:!0})],w.prototype,"color",2),v([(0,o.f)({type:Boolean,reflect:!0})],w.prototype,"mirrored",2),w=v([(0,o.e)("ph-arrow-down")],w);var y=class{static{(0,n.a)(this,"OramaChat")}constructor(e){(0,i.a)(this,e),this.answerGenerated=(0,i.e)(this,"answerGenerated",7),this.clearChat=(0,i.e)(this,"clearChat",7),this.startConversation=(0,i.e)(this,"startConversation",7),this.placeholder="Ask me anything",this.sourceBaseUrl="",this.showClearChat=!0,this.focusInput=!1,this.inputValue="",this.showGoToBottomButton=!1,this.triggerSendQuestion=e=>{if(null===this.chatStore.state.chatService)throw new Error("Chat Service is not initialized");this.startConversation.emit({userPrompt:e,systemPrompts:this.systemPrompts}),this.chatStore.state.chatService.sendQuestion(e,this.systemPrompts,{onAnswerGeneratedCallback:(0,n.a)((e=>this.answerGenerated.emit(e)),"onAnswerGeneratedCallback")})},this.isScrolling=!1,this.prevScrollTop=0,this.scrollTarget=0,this.pendingNewInteractionSideEffects=!1,this.lockScrollOnBottom=!1,this.handleFocus=()=>{if(this.focusInput){let e=this.textareaRef.querySelector("textarea");if(!e)return;requestAnimationFrame((()=>{e.focus()}))}},this.calculateIsScrollOnBottom=()=>{let e=this.messagesContainerRef.scrollHeight-this.messagesContainerRef.clientHeight;return this.messagesContainerRef.scrollTop+1>=e},this.scrollToBottom=(e={animated:!0,onScrollDone:(0,n.a)((()=>{}),"onScrollDone")})=>{if(!this.messagesContainerRef)return;if(!e.animated)return this.messagesContainerRef.scrollTop=this.messagesContainerRef.scrollHeight,void e.onScrollDone();this.isScrolling=!0;let t=performance.now(),a=this.messagesContainerRef.scrollTop,r=(0,n.a)((s=>{if(!this.messagesContainerRef||!this.isScrolling)return;let o=this.messagesContainerRef.scrollHeight-this.messagesContainerRef.clientHeight,i=s-t,n=Math.min(1,i/300),l=this.easeInOutQuad(n),c=a+(o-a)*l;this.messagesContainerRef.scrollTo(0,c),i<300?requestAnimationFrame(r):(this.isScrolling=!1,e.onScrollDone())}),"animateScroll");requestAnimationFrame(r)},this.easeInOutQuad=e=>e<.5?2*e*e:(4-2*e)*e-1,this.recalculateGoBoToBottomButton=()=>{this.calculateIsContainerOverflowing()?this.showGoToBottomButton=!this.calculateIsScrollOnBottom():this.showGoToBottomButton=!1},this.handleWheel=e=>{if(!this.calculateIsContainerOverflowing())return this.lockScrollOnBottom=!1,void(this.showGoToBottomButton=!1);let t=this.messagesContainerRef.scrollTop;this.showGoToBottomButton=!this.calculateIsScrollOnBottom(),this.lockScrollOnBottom=!this.showGoToBottomButton,this.showGoToBottomButton||(this.isScrolling=!1),this.prevScrollTop=t},this.setSources=()=>{this.chatStore.state.sourceBaseURL=this.sourceBaseUrl,this.chatStore.state.sourcesMap=Object.assign(Object.assign({},this.chatStore.state.sourcesMap),this.sourcesMap),this.chatStore.state.linksTarget=this.linksTarget,this.chatStore.state.linksRel=this.linksRel},this.handleSubmit=e=>{if(e.preventDefault(),null===this.chatStore.state.chatService)throw new Error("Chat Service is not initialized");this.startConversation.emit({userPrompt:this.inputValue,systemPrompts:this.systemPrompts}),this.chatStore.state.chatService.sendQuestion(this.inputValue,this.systemPrompts,{onAnswerGeneratedCallback:(0,n.a)((e=>this.answerGenerated.emit(e)),"onAnswerGeneratedCallback")}),this.chatStore.state.prompt=this.inputValue,this.inputValue=""},this.handleAbortAnswerClick=()=>{this.chatStore.state.chatService.abortAnswer()},this.handleSuggestionClick=e=>{if(null===this.chatStore.state.chatService)throw new Error("Chat Service is not initialized");this.startConversation.emit({userPrompt:e,systemPrompts:this.systemPrompts}),this.chatStore.state.chatService.sendQuestion(e,void 0,{onAnswerGeneratedCallback:(0,n.a)((e=>this.answerGenerated.emit(e)),"onAnswerGeneratedCallback")}),this.inputValue=""},this.handleClearChat=()=>{this.chatStore.state.chatService.resetChat(),this.clearChat.emit()},this.calculateIsContainerOverflowing=()=>!!this.messagesContainerRef&&this.messagesContainerRef.scrollHeight>this.messagesContainerRef.clientHeight}handleSourceItemClick(e){}handleDefaultTermChange(){var e;this.defaultTerm&&(null===(e=this.chatStore.state.chatService)||void 0===e||e.sendQuestion(this.defaultTerm,this.systemPrompts,{onAnswerGeneratedCallback:(0,n.a)((e=>this.answerGenerated.emit(e)),"onAnswerGeneratedCallback")}))}focusInputWatcher(){this.handleFocus()}promptWatcher(e,t){e!==t&&(this.triggerSendQuestion(e),this.chatStore.state.prompt=e)}componentWillLoad(){this.chatStore.on("set",((e,t,a)=>{"interactions"===e&&a?.length<t?.length&&(this.lockScrollOnBottom=!1,this.pendingNewInteractionSideEffects=!0)}))}componentDidLoad(){var e;this.messagesContainerRef.addEventListener("wheel",this.handleWheel),this.setSources(),this.handleFocus(),this.prompt&&(null===(e=this.chatStore.state)||void 0===e?void 0:e.prompt)!==this.prompt&&(this.triggerSendQuestion(this.prompt),this.chatStore.state.prompt=this.prompt),this.scrollableContainerResizeObserver=new ResizeObserver((()=>{this.recalculateGoBoToBottomButton()})),this.scrollableContainerResizeObserver.observe(this.messagesContainerRef),this.nonScrollableContainerResizeObserver=new ResizeObserver((()=>{if(this.pendingNewInteractionSideEffects)return this.pendingNewInteractionSideEffects=!1,this.lockScrollOnBottom=!1,void this.scrollToBottom({animated:!0,onScrollDone:(0,n.a)((()=>{this.recalculateGoBoToBottomButton()}),"onScrollDone")});this.lockScrollOnBottom&&!this.isScrolling&&this.scrollToBottom({animated:!1,onScrollDone:(0,n.a)((()=>{this.recalculateGoBoToBottomButton()}),"onScrollDone")}),this.recalculateGoBoToBottomButton()})),this.nonScrollableContainerResizeObserver.observe(this.nonScrollableMessagesContainerRef)}disconnectedCallback(){this.messagesContainerRef.removeEventListener("wheel",this.handleWheel),this.scrollableContainerResizeObserver.disconnect(),this.nonScrollableContainerResizeObserver.disconnect(),this.clearChatOnDisconnect&&(this.chatStore.state.interactions=[])}render(){var e,t,a;let s=null===(e=this.chatStore.state.interactions)||void 0===e?void 0:e[this.chatStore.state.interactions.length-1],o=s?.status,l=(null===(t=this.chatStore.state.interactions)||void 0===t?void 0:t.length)>0;return(0,i.b)(i.c,{key:"a42fc1802c5f87d214e7322a9c2dad20e3aa4cde"},this.showClearChat&&l&&(0,i.b)("div",{key:"5049fd5fd69f766a61e710d51000ab644abf6aae",class:"header"},(0,i.b)("button",{key:"e49c054f6fcef6617aa92b43aa971d21a024f971",type:"button",onClick:this.handleClearChat},(0,i.b)("ph-arrow-clockwise",{key:"9f111af47d6514b2f75e226421203c2c9af6757a",weight:"fill",size:"14"})," Clear chat")),(0,i.b)("div",{key:"d04343d9ad24c3fb0aa1daefd050baa8eec41372",class:"messages-container-wrapper-non-scrollable"},(0,i.b)("div",{key:"5e82936ee246da31295d206bd1296e45b7bd52fc",class:"messages-container-wrapper "+(l?"":"isEmpty"),ref:(0,n.a)((e=>this.messagesContainerRef=e),"ref")},(0,i.b)("div",{key:"b3e1b21e8305f9edc4dcaa2a202313b90905365b",ref:(0,n.a)((e=>this.nonScrollableMessagesContainerRef=e),"ref")},l?(0,i.b)("orama-chat-messages-container",{interactions:this.chatStore.state.interactions,chatMarkdownLinkTitle:this.chatMarkdownLinkTitle,chatMarkdownLinkHref:this.chatMarkdownLinkHref}):null,l?null:(0,i.b)(i.i,null,(0,i.b)("slot",{name:"chat-empty-state"}),!(null===(a=this.suggestions)||void 0===a||!a.length)&&(0,i.b)("div",{class:"suggestions-wrapper"},(0,i.b)("orama-suggestions",{suggestions:this.suggestions,suggestionClicked:this.handleSuggestionClick}))))),this.showGoToBottomButton&&(0,i.b)("button",{key:"4a8eb5c1ba6001f36bca7c88aae794368d75fca2",class:"lock-scroll-on-bottom-button-wrapper",type:"button",onClick:(0,n.a)((()=>{this.lockScrollOnBottom=!0,this.scrollToBottom({animated:!0,onScrollDone:(0,n.a)((()=>this.recalculateGoBoToBottomButton()),"onScrollDone")})}),"onClick")},(0,i.b)("ph-arrow-down",{key:"231641be57ab12c86ad6861a59c3fa7f2df88196",size:"18px"}))),(0,i.b)("div",{key:"c7cc4c0885f935b8b8d4c91825d07e82648d5391",class:"chat-form-wrapper"},(0,i.b)("form",{key:"94381cb0fe79f7302f3eb7841e498e34dca413ae",onSubmit:this.handleSubmit},(0,i.b)("div",{key:"e9659e69e5b3cfe343cfcc2822d34429841d1322",class:"chat-input"},(0,i.b)("orama-textarea",{key:"47f7fab2215320958660c603724b6cb16e664fdf",ref:(0,n.a)((e=>this.textareaRef=e),"ref"),autoFocus:this.focusInput,maxRows:4,value:this.inputValue,onKeyDown:(0,n.a)((e=>{"Enter"===e.key&&!e.shiftKey&&(this.handleSubmit(e),e.preventDefault())}),"onKeyDown"),onInput:(0,n.a)((e=>{this.inputValue=e.target.value}),"onInput"),placeholder:this.placeholder},(0,i.b)("div",{key:"f5328a943c20b8d58879f841bd372c6b7e6593ad",slot:"adornment-end"},[r.a.streaming,r.a.rendering,r.a.loading].includes(o)?(0,i.b)("orama-button",{type:"submit",onClick:this.handleAbortAnswerClick,onKeyDown:this.handleAbortAnswerClick,disabled:o!==r.a.rendering,"aria-label":"Abort answer"},(0,i.b)("ph-stop-circle",{size:16})):(0,i.b)("orama-button",{type:"submit",onClick:this.handleSubmit,onKeyDown:this.handleSubmit,disabled:!this.inputValue,"aria-label":"Send question"},(0,i.b)("ph-paper-plane-tilt",{size:16})))))),(0,i.b)("orama-text",{key:"6ab477f60303c2b916aad84d836f4bc2308530dd",as:"p",styledAs:"small",align:"center"},"Orama can make mistakes. Please verify the information.")))}static get watchers(){return{defaultTerm:["handleDefaultTermChange"],focusInput:["focusInputWatcher"],prompt:["promptWatcher"]}}};!function(e,t,a,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,a,r);else for(var n=e.length-1;n>=0;n--)(s=e[n])&&(i=(o<3?s(i):o>3?s(t,a,i):s(t,a))||i);o>3&&i&&Object.defineProperty(t,a,i)}([(0,s.a)("chat")],y.prototype,"chatStore",void 0),y.style='orama-chat{background:#fbfbfb;background:var(--background-color-primary,#fbfbfb);height:100%;overflow:hidden}.messages-container-wrapper,orama-chat{display:flex;flex-direction:column;flex-grow:1;position:relative}.messages-container-wrapper{overflow:auto;z-index:1}.messages-container-wrapper::-webkit-scrollbar{width:.3em}.messages-container-wrapper::-webkit-scrollbar-track{background:transparent}.messages-container-wrapper::-webkit-scrollbar-thumb{background-color:hsla(0,0%,70%,.522);border-radius:1rem;border-radius:var(--border-radius-l,calc(16rem/var(--orama-base-font-size, 16)))}.messages-container-wrapper.isEmpty{justify-content:flex-end}.messages-container-wrapper-non-scrollable{display:flex;flex-direction:column;flex-grow:1;overflow:hidden;position:relative;z-index:1}.lock-scroll-on-bottom-button-wrapper{align-items:center;background-color:transparent;background-color:#eee9f6;background-color:var(--background-color-tertiary,#eee9f6);border:none;border-radius:.75rem;border-radius:var(--radius-m,calc(12rem/var(--orama-base-font-size, 16)));bottom:0;color:#99989d;color:var(--icon-color-tertiary,#99989d);cursor:pointer;display:flex;font-family:font("primary");font-family:var(--font-primary,font("primary"));height:-moz-fit-content;height:fit-content;justify-content:center;left:50%;margin:.25rem;margin:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16)));padding:.5rem;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)));position:absolute;transform:translateX(-50%);width:-moz-fit-content;width:fit-content;z-index:2}.chat-form-wrapper{padding:.75rem 1rem;padding:var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16))) var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16)))}.chat-input{margin-bottom:.5rem;margin-bottom:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16)))}.suggestions-wrapper{display:flex;flex-direction:column;flex-grow:1;justify-content:end;overflow-x:auto}orama-logo-icon{position:absolute;right:50%;top:50%;transform:translate(50%,-50%);z-index:-1}';var S=class{static{(0,n.a)(this,"OramaChatMessagesContainer")}constructor(e){(0,i.a)(this,e),this.answerGenerated=(0,i.e)(this,"answerGenerated",7),this.latestInteractionMinHeight=0,this.onSuggestionClick=e=>{var t;null===(t=this.chatStore.state.chatService)||void 0===t||t.sendQuestion(e,void 0,{onAnswerGeneratedCallback:(0,n.a)((e=>this.answerGenerated.emit(e)),"onAnswerGeneratedCallback")})},this.resizeObserver=new ResizeObserver((e=>{this.latestInteractionMinHeight=e[0].target.clientHeight-32}))}componentDidLoad(){let e=this.el.parentElement.parentElement;this.resizeObserver.observe(e)}render(){return(0,i.b)(i.c,{key:"f43daa9af2c685fd0fb945f0116343f1f73c039c"},(0,i.b)("div",{key:"58155ffbd6b8a0fa83e66a8d288ec8c24e633338",class:"messages-container"},this.interactions.map(((e,t)=>{var a;return(0,i.b)("div",{key:e.interactionId,class:"interaction-wrapper",style:{minHeight:this.interactions.length>1&&t===this.interactions.length-1?`${this.latestInteractionMinHeight}px`:"0px"}},(0,i.b)("orama-chat-user-message",{interaction:Object.assign({},e)}),(0,i.b)("orama-chat-assistent-message",{interaction:Object.assign({},e),chatMarkdownLinkTitle:this.chatMarkdownLinkTitle,chatMarkdownLinkHref:this.chatMarkdownLinkHref}),e.latest&&"done"===e.status&&!(null===(a=e.relatedQueries)||void 0===a||!a.length)&&(0,i.b)("div",{class:"suggestions-wrapper"},(0,i.b)("orama-suggestions",{as:"chips",suggestions:e.relatedQueries,suggestionClicked:this.onSuggestionClick})))}))))}get el(){return(0,i.d)(this)}};!function(e,t,a,r){var s,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,a,r);else for(var n=e.length-1;n>=0;n--)(s=e[n])&&(i=(o<3?s(i):o>3?s(t,a,i):s(t,a))||i);o>3&&i&&Object.defineProperty(t,a,i)}([(0,s.a)("chat")],S.prototype,"chatStore",void 0),S.style="orama-chat-messages-container.sc-orama-chat-messages-container::-webkit-scrollbar{width:.3em}orama-chat-messages-container.sc-orama-chat-messages-container::-webkit-scrollbar-track{background:transparent}orama-chat-messages-container.sc-orama-chat-messages-container::-webkit-scrollbar-thumb{background-color:hsla(0,0%,70%,.522);border-radius:1rem;border-radius:var(--border-radius-l,calc(16rem/var(--orama-base-font-size, 16)))}.messages-container.sc-orama-chat-messages-container{display:flex;flex-direction:column;gap:1.5rem;gap:var(--spacing-xl,calc(24rem/var(--orama-base-font-size, 16)));margin:1rem 0;margin:var(--spacing-l,calc(16rem/var(--orama-base-font-size, 16))) 0;overflow:hidden}.suggestions-wrapper.sc-orama-chat-messages-container{margin-top:1.5rem;margin-top:var(--spacing-xl,calc(24rem/var(--orama-base-font-size, 16)))}";var k=class{static{(0,n.a)(this,"OramaTextarea")}constructor(e){(0,i.a)(this,e),this.value="",this.minRows=1,this.autoFocus=!1,this.handleChange=e=>{let t=e.target;this.value||this.syncHeight(),this.value=t.value}}handleAutoFocusChange(){this.autoFocus&&this.textarea.focus()}componetWillLoad(){this.startAdornmentWidth=this.getNamedSlotWidth("adornment-start"),this.endAdornmentWidth=this.getNamedSlotWidth("adornment-end"),this.syncHeight(),this.autoFocus&&this.textarea.focus()}getNamedSlotWidth(e){let t=this.el.querySelector(`slot[name="${e}"]`);if(t){let e=t.assignedElements();if(e.length>0)return e[0].offsetWidth}return 0}handlePropsChange(){this.syncHeight()}getStyleValue(e){return Number.parseInt(e,10)||0}calculateTextareaStyles(){let e=this.textarea,t=window.getComputedStyle(e);if("0px"===t.width)return{outerHeightStyle:0,overflowing:!1};let a=this.shadowTextarea;a.style.width=t.width,a.value=e.value||this.placeholder||"x","\n"===a.value.slice(-1)&&(a.value+=" ");let r=t.boxSizing,s=this.getStyleValue(t.paddingBottom)+this.getStyleValue(t.paddingTop),o=this.getStyleValue(t.borderBottomWidth)+this.getStyleValue(t.borderTopWidth),i=a.scrollHeight;a.value="x";let n=a.scrollHeight,l=i;return this.minRows&&(l=Math.max(Number(this.minRows)*n,l)),this.maxRows&&(l=Math.min(Number(this.maxRows)*n,l)),l=Math.max(l,n),{outerHeightStyle:l+("border-box"===r?s+o:0),overflowing:Math.abs(l-i)<=1}}syncHeight(){let e=this.calculateTextareaStyles();if(!e)return;let t=e.outerHeightStyle;this.height!==t&&(this.height=t,this.textarea.style.height=`${t}px`),this.textarea.style.overflow=e.overflowing?"hidden":""}getAllProps(){let e={};for(let t=0;t<this.el.attributes.length;t++){let a=this.el.attributes[t];e[a.name]=a.value}return e}render(){return(0,i.b)(i.c,{key:"9319332dbe7374b93170f6462525bfdf0affd531"},(0,i.b)("slot",{key:"8786d1c181b671d58ccc861e753c3b0f857f3735",name:"adornment-start"}),(0,i.b)("textarea",Object.assign({key:"7befa25e8fac294cf179d0f6aa3488238f13509c"},this.getAllProps(),{value:this.value,onInput:this.handleChange,ref:(0,n.a)((e=>this.textarea=e),"ref"),rows:Number(this.minRows),style:{height:this.height?`${this.height}px`:void 0,paddingLeft:this.startAdornmentWidth?`${this.startAdornmentWidth}px`:void 0,paddingRight:this.endAdornmentWidth?`${this.endAdornmentWidth}px`:void 0},class:"textarea",placeholder:this.placeholder})),(0,i.b)("slot",{key:"c9ae419da9aee6966f21d3bc99bbc38fa9f2e9c7",name:"adornment-end"}),(0,i.b)("textarea",{key:"bfefc2e05e0f4c1eecdcdadfd592db0118b481a3","aria-hidden":"true",readonly:!0,ref:(0,n.a)((e=>this.shadowTextarea=e),"ref"),tabindex:-1,class:"textarea",style:{visibility:"hidden",position:"absolute",overflow:"hidden",height:"0",top:"0",left:"0",transform:"translateZ(0)",paddingTop:"0",paddingBottom:"0",paddingLeft:this.startAdornmentWidth?`${this.startAdornmentWidth}px`:void 0,paddingRight:this.endAdornmentWidth?`${this.endAdornmentWidth}px`:void 0}}))}get el(){return(0,i.d)(this)}static get watchers(){return{autoFocus:["handleAutoFocusChange"],value:["handlePropsChange"],maxRows:["handlePropsChange"],minRows:["handlePropsChange"]}}};k.style=".sc-orama-textarea-h{align-items:center;background:#fff;background:var(--background-color-secondary,#fff);border:1px solid #dadada;border:1px solid var(--border-color-primary,#dadada);border-radius:1rem;border-radius:var(--textarea-radius,var(--radius-l,calc(16rem/var(--orama-base-font-size, 16))));box-shadow:#fff;box-shadow:var(--textarea-shadow,var(--shadow-color-primary,#fff));display:flex;padding:.25rem .25rem .25rem .75rem;padding:var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-xs,calc(4rem/var(--orama-base-font-size, 16))) var(--spacing-m,calc(12rem/var(--orama-base-font-size, 16)));position:relative}.sc-orama-textarea-s>[slot=adornment-end]{align-items:center;display:flex;justify-content:center}.textarea.sc-orama-textarea{background:none;border:none;color:#151515;color:var(--text-color-primary,#151515);font-family:inherit;font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)));font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));font-weight:400;font-weight:var(--font-weight-normal,400);left:0;line-height:1.5;line-height:var(--font-line-height-m,1.5);margin:0;outline:none;padding:0;resize:none;right:0;transition:height .1s;width:100%}@media (min-width:768.02px){.textarea.sc-orama-textarea{font-size:.875rem;font-size:var(--font-size-sm,calc(14rem/var(--orama-base-font-size, 16)));padding:.5rem 0;padding:var(--spacing-s,calc(8rem/var(--orama-base-font-size, 16))) 0}}.textarea.sc-orama-textarea::-moz-placeholder{color:#99989d;color:var(--text-color-inactive,#99989d);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%}.textarea.sc-orama-textarea::placeholder{color:#99989d;color:var(--text-color-inactive,#99989d);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%}.textarea.sc-orama-textarea:focus-visible{border-color:#432d77;border-color:var(--border-color-accent,#432d77);outline:none}.textarea.sc-orama-textarea::-webkit-scrollbar{width:.3em}.textarea.sc-orama-textarea::-webkit-scrollbar-track{background:transparent}.textarea.sc-orama-textarea::-webkit-scrollbar-thumb{background-color:hsla(0,0%,70%,.522);border-radius:1rem;border-radius:var(--border-radius-l,calc(16rem/var(--orama-base-font-size, 16)))}@media (min-width:768.02px){.textarea.sc-orama-textarea{font-size:1rem;font-size:var(--font-size-md,calc(16rem/var(--orama-base-font-size, 16)))}}"}}]);